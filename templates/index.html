{% extends "base.html" %}

{% block title %}Submit Ticket | IT Help Desk{% endblock %}
{% block heading %}Submit a Help Desk Ticket{% endblock %}

{% block content %}
<!-- Flash Messages -->
{% with messages = get_flashed_messages() %}
  {% if messages %}
    <div class="alert alert-info">
      {% for message in messages %}
        <div>{{ message }}</div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}

<!-- Ticket Submission Form -->
<form action="{{ url_for('submit_ticket') }}" method="post">
    <div class="mb-3">
        <label for="issue_type" class="form-label">Pick from the list below</label>
        <select id="issue_type" name="issue_type" class="form-select" required>
            <option value="Password Reset">Password Reset</option>
            <option value="Software Installation">Software Installation</option>
            <option value="Hardware Issue">Hardware Issue</option>
            <option value="Network Connectivity">Network Connectivity</option>
            <option value="Email Issue">Email Issue</option>
            <option value="Other">Other</option>
        </select>
    </div>

    <div class="mb-3">
        <label for="description" class="form-label">More details:</label>
        <textarea id="description" name="description" class="form-control" rows="4" required></textarea>
    </div>

    <button type="submit" class="btn btn-success">Submit Ticket</button>
</form>

<!-- Navigation Links -->
<div class="mt-4">
    <a href="{{ url_for('tickets_view') }}">View All Tickets</a> |
    <a href="{{ url_for('logout') }}">Logout</a>
</div>
{% endblock %}